#!/bin/sh

# System initialisation script.  

export PATH
. /etc/init.d/functions


# Send everything that follows to logger -- can't do this until syslog
# started.
{
    # If we're uninitialised, now's the time to run the initial script.
    [ -x /etc/first-time.sh ]  && /etc/first-time.sh

    # This troublemaker needs to be run at some point if we're using it.  Need
    # to do a bit of research: is ldconfig really useful (speeds up loading),
    # and can we run it in advance?
    [ -x /sbin/ldconfig ]  &&  /sbin/ldconfig

    # Run all the scripts linked in rc.d
    for script in /etc/rc.d/S*; do
        $script start
    done

    # Do any post init mounts: this is a good time for nfs mounts that aren't
    # needed during startup.  Pass 1 mounts need to be mounted explicitly by
    # a linked script if needed.
    mount_pass 2
} 2>&1 |
logger -s -t rc 
