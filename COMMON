# Core environment makefile definitions.

# Note that the build root must be an absolute path.  By default we build in
# tree, but this should normally be configured on a large scratch workspace.
BUILD_ROOT = $(TOP)/build

BINUTILS_DIR = /dls_sw/work/common/x-tools/$(COMPILER_PREFIX)
TAR_DIRS = /dls_sw/prod/common/sources /dls_sw/work/targetOS/sources

TOOLKIT_BIN = $(BUILD_ROOT)/toolkit/bin

MKIMAGE = $(UBOOT_DIR)/mkimage


include $(TOP)/CONFIG

ifndef TARGET
$(error Must specify TARGET)
endif
configdir = $(TOP)/configs/$(TARGET)
include $(configdir)/CONFIG
-include $(TOP)/CONFIG.local


PATH := $(BINUTILS_DIR)/bin:$(PATH)


sysroot = $(BUILD_ROOT)/$(TARGET)/rootfs
scripts = $(TOP)/scripts/

# Support scripts for installation.
install = $(scripts)install '$(COMPILER_PREFIX)' '$(sysroot)'
useradd = $(scripts)useradd '$(sysroot)'
groupadd = $(scripts)groupadd '$(sysroot)'
startup = $(scripts)/startup '$(sysroot)'
first-time = $(scripts)/first-time '$(sysroot)'

# Our local autoconf
AUTOCONF = $(TOOLKIT_BIN)/autoconf
