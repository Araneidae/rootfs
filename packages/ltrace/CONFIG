ltrace_VERSION ?= 0.6.0

MD5_SUM_0.6.0 = 9a7ef956441c8bcba7c306ab4d6240a0


# If we are building from sources generated directly from git we won't have a
# copy of ./configure, so the following command will build this.
patch-extra = cd $(srcdir)  &&  ./autogen.sh

build:
	$(srcdir)/configure CFLAGS='$(CFLAGS)' \
            --host=$(COMPILER_PREFIX) --build=$(BUILD_TYPE)
	make -C $(O)

install:
	$(install) -s -m-w $(O)/ltrace /usr/bin


# Web site at http://ltrace.alioth.debian.org/ but there doesn't appear to be a
# simple way to do a download.  Tar file generated by running:
#
#   git clone git://git.debian.org/git/collab-maint/ltrace.git
#   cd ltrace
#   git archive --prefix=ltrace-0.6.0/ 0.6.0 | bzip2 >ltrace-0.6.0.tar.bz2
#
# Note that version 0.6.0 is broken on ARM.  There's a relevant bug report here:
#   https://bugs.launchpad.net/ubuntu/+source/ltrace/+bug/771805
# and the mailing list is here:
#   http://lists.alioth.debian.org/cgi-bin/mailman/listinfo/ltrace-devel
#
# Version 0.5.3 has Debian patches, but these have all already been incorporated
# into 0.6.0, and the build process for 0.5.3 is horrible.

# vim: set filetype=make:
