Python_VERSION ?= 3.8.0

MD5_SUM_3.8.0 = e18a9d1a0a6d858b9787e03fc6fdaa20


# All the numbered patches below were taken from buildroot.
PATCHES_3.8.0 = \
    p3/0001-Make-the-build-of-pyc-files-conditional.patch \
    p3/0002-Disable-buggy_getaddrinfo-configure-test-when-cross-.patch \
    p3/0003-Add-infrastructure-to-disable-the-build-of-certain-e.patch \
    p3/0004-Adjust-library-header-paths-for-cross-compilation.patch \
    p3/0005-Don-t-look-in-usr-lib-termcap-for-libraries.patch \
    p3/0006-Don-t-add-multiarch-paths.patch \
    p3/0007-Abort-on-failed-module-build.patch \
    p3/0008-Serial-ioctl-workaround.patch \
    p3/0009-Do-not-adjust-the-shebang-of-Python-scripts-for-cros.patch \
    p3/0010-Misc-python-config.sh.in-ensure-sed-invocations-only.patch \
    p3/0011-Override-system-locale-and-set-to-default-when-addin.patch \
    p3/0012-Add-importlib-fix-for-PEP-3147-issue.patch \
    p3/0013-Add-an-option-to-disable-installation-of-test-module.patch \
    p3/0014-Add-an-option-to-disable-pydoc.patch \
    p3/0015-Add-an-option-to-disable-lib2to3.patch \
    p3/0016-Add-option-to-disable-the-sqlite3-module.patch \
    p3/0017-Add-an-option-to-disable-the-tk-module.patch \
    p3/0018-Add-an-option-to-disable-the-curses-module.patch \
    p3/0019-Add-an-option-to-disable-expat.patch \
    p3/0020-Add-an-option-to-disable-CJK-codecs.patch \
    p3/0021-Add-an-option-to-disable-NIS.patch \
    p3/0022-Add-an-option-to-disable-unicodedata.patch \
    p3/0023-Add-an-option-to-disable-IDLE.patch \
    p3/0024-Add-an-option-to-disable-decimal.patch \
    p3/0025-Add-an-option-to-disable-the-ossaudiodev-module.patch \
    p3/0026-Add-an-option-to-disable-openssl-support.patch \
    p3/0027-Add-an-option-to-disable-the-readline-module.patch \
    p3/0028-Add-options-to-disable-zlib-bzip2-and-xz-modules.patch \
    p3/0029-python-config.sh-don-t-reassign-prefix.patch \
    p3/0030-Fix-cross-compiling-the-uuid-module.patch \
    p3/0031-Add-an-option-to-disable-uuid-module.patch \
    p3/0032-fix-building-on-older-distributions.patch \
    p3/0033-configure.ac-fixup-CC-print-multiarch-output-for-mus.patch \
    p3/fix-write-history.patch

HOST_PYTHON_CONF_OPTS = \
    ac_cv_prog_HAS_HG=/bin/false \
    --without-ensurepip \
    --without-cxx-main \
    --disable-sqlite3 \
    --disable-tk \
    --with-expat=system \
    --disable-curses \
    --disable-codecs-cjk \
    --disable-nis \
    --enable-unicodedata \
    --disable-test-modules \
    --disable-idle3 \
    --disable-openssl \
    --disable-ossaudiodev

TARGET_PYTHON_CONF_OPTS = \
    ac_cv_have_long_long_format=yes \
    ac_cv_file__dev_ptmx=yes \
    ac_cv_file__dev_ptc=no \
    ac_cv_working_tzset=yes \
    ac_cv_have_getentropy=no \
    ac_cv_file__dev_ptmx=yes \
    ac_cv_prog_HAS_HG=/bin/false \
    ac_cv_enable_implicit_function_declaration_error=no \
    --disable-ossaudiodev \
    --without-ensurepip \
    --without-cxx-main \
    --with-system-ffi \
    --disable-pydoc \
    --disable-test-modules \
    --disable-lib2to3 \
    --disable-tk \
    --disable-nis \
    --disable-idle3 \
    --disable-pyc-build \
    --disable-ipv6 \
    --with-openssl=$(call pkg-config,libressl --variable=prefix)/usr \
    --disable-sqlite3

# vim: set filetype=make:
