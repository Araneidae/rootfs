# Definitions for embedded FPGA processor core

TOOLCHAIN_VERSION = gcc-4.3.2-glibc-2.6.1
COMPILER_PREFIX = powerpc-405-linux-gnu

CONSOLE_BAUD = 9600
CONSOLE_TTY = ttyS0

ROOT_PASSWORD = Jungle

SSH_AUTHORIZED_KEYS = $(configdir)/authorized_keys

CFLAGS = -O2
LDCONFIG = install

TERMS = xterm xterm-color screen vt100 vt102

# This one is essential, nothing builds without it.
EXTRAS += busybox
# Components required for normal operation.
EXTRAS += ntp dropbear portmap
# Useful debugging tools
EXTRAS += strace lsof


BOOT = nfs
NETWORK = nfs

NFS_SERVER = pc0013
NFS_ROOTFS = /scratch/mga83/rootfs/$(TARGET)


final-install:
        # Install the regular nfs mounts.
	mkdir -p $(patsubst %,$(sysroot)/mnt/%,nfs prod work)
	cat $(configdir)/fstab >>$(sysroot)/etc/fstab

ifeq ($(DEVELOPMENT),y)
DROPBEAR_KEYS = y
endif
