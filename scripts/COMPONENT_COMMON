# To be included when building components, either toolkit or extras.
#
# CURDIR will be the component to be built, its name will automatically be
# used for configuration.
#
# Requires the following environment:
#
#   OBJECT_ROOT     Set to build directory for out of tree builds.

COMPONENT = $(notdir $(CURDIR))
version = $($(COMPONENT)_VERSION)

SOURCE_ROOT = $(BUILD_ROOT)/src
srcdir = $(SOURCE_ROOT)/$(SOURCE_DIR_NAME)
O = $(OBJECT_ROOT)/$(COMPONENT)/

# These two are for shared libraries.  To use them export
#   CPPFLAGS=-I$(includedir) LDFLAGS=-L$(libdir) 
includedir = $(OBJECT_ROOT)/include
libdir = $(OBJECT_ROOT)/lib

# Default file extension, can be overridden in component makefile.
TAR_EXTENSION = .tar.bz2
SEPARATOR = -
TAR_SEPARATOR = $(SEPARATOR)
SOURCE_SEPARATOR = $(SEPARATOR)
TAR_FILE = $(COMPONENT)$(TAR_SEPARATOR)$(version)$(TAR_EXTENSION)
SOURCE_DIR_NAME = $(COMPONENT)$(SOURCE_SEPARATOR)$(version)

MD5_SUM = $(MD5_SUM_$(version))

# Redefine this component to do any extra work between untaring and patching.
untar-extra = @:
